# Contributing

Спасибо за вклад в **Prototy**! Этот документ описывает правила, которые помогают поддерживать единый стиль, качество и предсказуемость изменений.

## Быстрый старт

```bash
npm install
npm run lint
```

## Требования

- Node.js **>= 18**
- **ES Modules**
- JavaScript (**без TypeScript**)
- Типизация через **JSDoc**
- Проверка кода через **ESLint**
- Коммиты по **Conventional Commits** (enforced через commitlint)

## Процесс работы

1. Сделайте fork репозитория.
2. Создайте ветку от `main`:
   ```bash
   git checkout -b feat/short-topic
   ```
3. Внесите изменения.
4. Убедитесь, что линтер проходит:
   ```bash
   npm run lint
   ```
5. Сделайте коммит по правилам (см. ниже).
6. Откройте Pull Request.

## Кодстайл

Основные соглашения (enforced ESLint):

- Отступы: **tab**
- Кавычки: **одинарные**
- `;` **не используется**
- Перенос строк: **\n**
- Неиспользуемые переменные запрещены  
  Допускаются только переменные, начинающиеся с `_` (например, `_unused`)

## JSDoc

JSDoc обязателен для публичных API (функции/методы/классы).

- Обязательны `@param` и `@returns` (кроме `void`)
- Типы должны быть валидными
- Для сложных объектов используйте `@typedef`

Пример:

```js
/**
 * Обновляет состояние.
 * @param {string} key
 * @param {unknown} value
 * @returns {void}
 */
update(key, value) {
	this.state[key] = value
}
```
```js
/**
 * Adds two numbers together.
 *
 * @template T extends number
 * @param {T} a
 * @param {T} b
 * @returns {T}
 */
function add(a, b) {
	return a + b
}
```js
/**
* Adds two numbers together.
*
* @param {number | string} a
* @param {number} b
* @returns {number}
  */
  function add(a, b) {
  return Number(a) + b
  }
```
## Комментарии в коде

Пишите комментарии **только там**, где они добавляют ценность:

- Нестандартная логика
- Неочевидные решения
- Ограничения

Не пишите комментарии, которые просто повторяют код.

## Коммиты

Используется **Conventional Commits**.

Формат:

```
<type>(scope): короткое описание
```

### Типы

- `add` — новая функциональность
- `fix` — исправление бага
- `refactor` — рефакторинг без изменения поведения
- `docs` — документация
- `style` — форматирование, без логики
- `test` — тесты
- `chore` — инфраструктура/зависимости/сборка

### Scope

Scope — краткая область изменения, например: `state`, `screen`, `component`, `docs`, `build`.

### Примеры

- `feat(state): добавился реактивный proxy`
- `fix(component): предотвращено повторное привязывание событий`
- `docs: обновились примеры в README`
- `refactor(screen): упрощена логика навигации экранов`

## Pull Request

Перед PR проверьте:

- [ ] `npm run lint` проходит без ошибок
- [ ] Публичные API покрыты JSDoc
- [ ] Коммиты соответствуют Conventional Commits
- [ ] PR описывает **что** и **почему**

Рекомендуемый шаблон описания:

```md
## Что сделано
- ...

## Зачем
- ...

## Как проверить
1. ...
```

## Code of Conduct

- Уважительное общение
- Конструктивная обратная связь
- Без токсичности и перехода на личности
